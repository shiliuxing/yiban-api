### 活动管理接口

| 接口名称 | 方式 | 地址 |
| ------ | ------ | ------ |
| [新增活动](#新增活动) | POST | /activity |
| [删除活动](#删除活动) | DELETE | /activity/:id |
| [修改活动](#修改活动) | PUT | /activity/:id |
| [获取活动](#获取活动) | GET | /activity |
| [根据活动名获取活动信息](#根据活动名获取活动信息) | GET | /activity/:name |

#### <span id="新增活动">新增活动</span>

地址

`POST /activity`

接受参数

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| start | 签到开始时间 | 必填，cron表达式表示 |
| end | 签到结束时间 | 必填，cron表达式表示 |
| name | 活动名称 | 必填 |
| machine | 机器id | 必填 |

返回格式

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| code | 添加结果 | code 为 0 时添加成功，其他情况为添加失败 |
| id | 新增活动的id | 添加失败时无该参数 |
| msg | 提示信息 | 添加成功时为”添加成功“，失败时为添加失败原因 |

#### <span id="删除活动">删除活动</span>

地址

`DELETE` `/activity/:id`

接受参数

无

返回格式

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| code | 删除结果 | code 为 0 时删除成功，其他情况为删除失败 |
| msg | 提示信息 | 删除成功时为”删除成功“，失败时为删除失败原因 |

#### <span id="修改活动">修改活动</span>

地址

`PUT` `/activity/:id`

接受参数

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| start | 签到开始时间 | 选填，cron表达式表示 |
| end | 签到结束时间 | 选填，cron表达式表示 |
| name | 活动名称 | 选填 |
| machine | 机器id | 选填 |

**注意：**四个参数至少要有一个

返回格式

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| code | 修改结果 | code 为 0 时修改成功，其他情况为修改失败 |
| msg | 提示信息 | 修改成功时为”修改成功“，失败时为修改失败原因 |

#### <span id="查找活动">查找活动</span>

地址

`GET` `/activity`

接受参数

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| lastId | 从id为lastId的活动开始 | 选填，不包含id为lastId的活动 |
| count | 数量 | 选填，最大返回20条，默认返回20条 |

返回格式

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| code | 查找结果 | code 为 0 时查询成功，其他情况为查询失败 |
| msg | 提示信息 | 查询成功时为”查询成功“，失败时为查询失败原因 |
| number | 数量 | 查找到的活动数量 |
| activities | 活动信息数组 | 存放活动信息的json数组 |

活动信息格式

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| id | 活动id | |
| start | 签到开始时间 | cron表达式表示 |
| end | 签到结束时间 | cron表达式表示 |
| name | 活动名称 | |
| machine | 该活动绑定的机器名称 | |

#### <span id="根据活动名获取活动信息">根据活动名获取活动信息</span>

地址

`GET` `/activity/:name`

接受参数

无

返回格式

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| code | 查找结果 | code 为 0 时查询成功，其他情况为查询失败 |
| msg | 提示信息 | 查询成功时为”查询成功“，失败时为查询失败原因 |
| activity | 活动 | 存放活动信息的json对象 |

活动信息格式

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| id | 活动id | |
| start | 签到开始时间 | cron表达式表示 |
| end | 签到结束时间 | cron表达式表示 |
| name | 活动名称 | |
| machine | 该活动绑定的机器名称 | |
