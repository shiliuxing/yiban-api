### 签到管理接口

| 接口名称 | 方式 | 地址 |
| ------ | ------ | ------ |
| [新增签到记录](#新增签到记录) | POST | /record |
| [删除签到记录](#删除签到记录) | DELETE | /record/:id |
| [修改签到记录](#修改签到记录) | PUT | /record/:id |
| [获取最近签到记录](#获取最近签到记录) | GET | /record |
| [根据活动名查找记录](#根据活动名查找记录) | GET | /record/activity/:name |
| [根据用户真实姓名查找记录](#根据用户真实姓名查找记录) | GET | /record/user/name/:name |
| [根据用户id查找记录](#根据用户id查找记录) | GET | /record/user/id/:id |

#### <span id="新增签到记录">新增签到记录</span>

地址

`POST` `/record`

接受参数

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| time | 签到时间 | 必填，unix时间戳，单位毫秒 |
| owner | 签到者 | 必填，签到者id |
| activity | 签到活动 | 必填，活动id |

返回格式

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| code | 签到结果 | code 为 0 时签到成功，其他情况为签到失败 |
| id | 新增活动的id | 添加失败时无该参数 |
| msg | 错误信息 | 添加成功时为”添加成功“，失败时为添加失败原因 |

#### <span id="删除签到记录">删除签到记录</span>

地址

`DELETE` `/record/:id`

接受参数

无

返回格式

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| code | 删除结果 | code 为 0 时删除成功，其他情况为删除失败 |
| msg | 提示信息 | 删除成功时为”删除成功“，失败时为删除失败原因 |

#### <span id="修改签到记录">修改签到记录</span>

地址

`PUT` `/record/:id`

接受参数

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| time | 签到时间 | 选填，unix时间戳，单位毫秒 |
| owner | 签到者 | 选填，签到者id |
| activity | 签到活动 | 选填，活动id |

返回格式

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| code | 修改结果 | code 为 0 时修改成功，其他情况为修改失败 |
| msg | 提示信息 | 修改成功时为”修改成功“，失败时为修改失败原因 |

#### <span id="获取最近签到记录">获取最近签到记录</span>

地址

`GET` `/record`

接受参数

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| lastId | 从id为lastId的记录开始 | 选填，不包含id为lastId的记录 |
| count | 数量 | 选填，最大返回20条，默认返回20条 |

返回格式

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| code | 查询结果 | code 为 0 时查询成功，其他情况为查询失败 |
| msg | 错误信息 | 查询成功时为”查询成功“，失败时为查询失败原因 |
| number | 数量 | 查找到的记录数量 |
| records | 记录信息数组 | 存放记录信息的json数组 |

记录信息格式

| 参数 | 意义 |
| ------ | ------ |
| id | 记录id |
| time | 签到时间 |
| activity | 活动名 |
| studentId | 学号 |
| realname | 真实姓名 |
