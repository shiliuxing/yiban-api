# 机器管理接口

| 接口名称 | 方式 | 地址 |
| ------ | ------ | ------ |
| [新增机器](#新增机器) | POST | /machine |
| [删除机器](#删除机器) | DELETE | /machine/:id |
| [修改机器信息](#修改机器信息) | PUT | /machine/:id |
| [获取机器信息](#获取机器信息) | GET | /machine |
| [根据机器id获取机器信息](#根据机器id获取机器信息) | GET | /machine/:id |

数据库中存储的机器码形式：`mac地址` + `---` + `cpu型号`

## <span id="新增机器">新增机器</span>

地址

`POST /machine`

接受参数

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| mac | 机器 MAC 地址 | 必填，不区分大小写，如：c4:54:44:29:49:ab |
| cpu | 机器 CPU 类型 | 必填，不区分大小写 |
| mark | 备注 | 必填，通过备注方便用户区分不同机器 |

返回格式

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| code | 新增结果 | code 为 0 时新增成功，其他情况为新增失败 |
| id | 新增机器的id | 新增失败时无该参数 |
| msg | 提示信息 | 新增成功时为”新增成功“，失败时为新增失败原因 |





## <span id="删除机器">删除机器</span>

地址

`DELETE /machine/:id`

接受参数

无

返回格式

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| code | 删除结果 | code 为 0 时删除成功，其他情况为删除失败 |
| msg | 提示信息 | 删除成功时为”删除成功“，失败时为删除失败原因 |





## <span id="修改机器信息">修改机器信息</span>

地址

`PUT /machine/:id`

接受参数

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| mac | 机器 MAC 地址 | 选填，不区分大小写，如：c4:54:44:29:49:ab |
| cpu | 机器 CPU 类型 | 选填，不区分大小写 |
| mark | 备注 | 选填，通过备注方便用户区分不同机器 |

**注意：**3个选填参数最少要有一个

返回格式

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| code | 修改结果 | code 为 0 时修改成功，其他情况为修改失败 |
| msg | 提示信息 | 修改成功时为”修改成功“，失败时为修改失败原因 |





## <span id="获取机器信息">获取机器信息</span>

地址

`GET /machine`

接受参数

无

返回格式

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| code | 查找结果 | code 为 0 时查找成功，其他情况为查找失败 |
| msg | 提示信息 | 查找成功时为”查找成功“，失败时为查找失败原因 |
| number | 数量 | 查找到的机器数量 |
| machines | 机器信息数组 | 存放机器信息的json数组 |

机器信息格式

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| id | 机器id |  |
| mark | 机器备注 | 方便用户区别不同机器 |





## <span id="根据机器id获取机器信息">根据机器id获取机器信息</span>

地址

`GET /machine/:id`

接受参数

无

返回格式

| 参数 | 意义 | 备注 |
| ------ | ------ | ------ |
| code | 查找结果 | code 为 0 时查找成功，其他情况为查找失败 |
| msg | 提示信息 | 查找成功时为”查找成功“，失败时为查找失败原因 |
| mark | 机器备注 | 方便用户区别不同机器 |
| cpu | 机器 CPU 型号 ||
| mac | 机器 MAC 地址 ||
